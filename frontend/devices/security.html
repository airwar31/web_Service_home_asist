<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 50px; background: #1a1a1a; color: white; }
        .security-panel { width: 300px; height: 200px; border: 3px solid #333; border-radius: 20px; margin: 20px auto; display: flex; align-items: center; justify-content: center; font-size: 24px; transition: all 0.3s; }
        .security-off { background: #333; color: #888; }
        .security-on { background: #ff4444; color: white; border-color: #ff4444; box-shadow: 0 0 30px #ff4444; }
        button { padding: 15px 30px; margin: 20px; font-size: 18px; }
    </style>
</head>
<body>
    <h1>üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h1>
    
    <div id="securityPanel" class="security-panel security-off">
        <span id="statusText">–û–¢–ö–õ–Æ–ß–ï–ù–ê</span>
    </div>
    


    <script>
        let state = { status: false };

        function updateUI() {
            const panel = document.getElementById('securityPanel');
            const statusText = document.getElementById('statusText');
            
            if (state.status) {
                panel.className = 'security-panel security-on';
                statusText.textContent = '–í–ö–õ–Æ–ß–ï–ù–ê';
            } else {
                panel.className = 'security-panel security-off';
                statusText.textContent = '–û–¢–ö–õ–Æ–ß–ï–ù–ê';
            }
        }

        function toggleSecurity() {
            state.status = !state.status;
            updateState();
        }

        function updateState() {
            fetch('/api/update', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(state)
            });
            updateUI();
        }

        function loadState() {
            fetch('/api/state')
                .then(response => response.json())
                .then(data => {
                    state = data;
                    updateUI();
                });
        }

        setInterval(loadState, 1000);
        loadState();
    </script>
</body>
</html>